const _0x49edb3=_0x24e2;function _0x2836(){const _0x3e63d8=['onerror','_handlePayment','pk_test_51QPbRYJ2rqVg26J2YGz9P5pwZnn3aXMAH2ezX0g8hdX5QyfQ6fhJvVK0EZKO7Yd2Wq4uK5U7Om9T64zE5EnP1i7W00h3xkHCk1','_mountApplePayButton','_normalizeContainerId','script','message','country','get','values','confirm','black','json','never','627503aszWxO','test','https://uat-cashier-api.haipay.top','data','ready','application/json','stripe','_createStripeElements','_getInfo','appVersion','confirmPayment','orderNo','_validateOptions','currencyLowerCase','dataForm','_getIpInfo','startsWith','components','Button\x20container\x20does\x20not\x20existï¼š#','length','buttonType','buttonTheme','onReady','join','onCallback','8mKBiWf','clientSecret','redirectUrl','account','expressCheckout','googlePayButtonType','platform','visitorId','buttonContainerId','filter','includes','baseURI','regionInfo','8675ebnZxp','onError','screenResolution','value','[HaiPay]','submit','POST','elements','postal','_showError','buttonHeight','1897647ajdFOm','1361130hsuDkY','Failed\x20to\x20get\x20order\x20info','hardwareConcurrency','appearance','48Edadgw','https://checkout.haipay.top','_getFingerprint','978JKnHhl','uniId','cookie','_initPaymentButton','baseURL','https://ipinfo.io/json','cookies','The\x20env\x20parameter\x20must\x20be\x20test\x20or\x20prod.','prod','getElementById','config','createElement','payment','2841594FRFjnW','applePayButtonType','createPay','fingerprint','head','_loadStripeJS','Missing\x20required\x20parameters:','create','errorContainerId','callbacks','GOOGLE_PAY','pk_live_51QPbRYJ2rqVg26J2impJhqHtWW5GIBd4peN3YJwHSGOdgk2zynhHXdSRCQserP0CaXE59TyOZ7zHmj98klGotUPF00hepLIPr5','3113495PcGsVP','1520136jhtXzn','Unsupported\x20region:\x20','/pay/google_apple_pay/','always','Unable\x20to\x20load\x20js','Pay\x20button\x20Initialization\x20failed:\x20','https://js.stripe.com/v3/','stringify','textContent','languages','18YQQHLz','orderStatus','mount','env','bankCode','onload','2KRdHMS','_createStripeInstance','status','_getSystemInfo','referrer'];_0x2836=function(){return _0x3e63d8;};return _0x2836();}function _0x24e2(_0x43cb9b,_0x37e09d){const _0x28369c=_0x2836();return _0x24e2=function(_0x24e287,_0x531c66){_0x24e287=_0x24e287-0xf5;let _0x6df488=_0x28369c[_0x24e287];return _0x6df488;},_0x24e2(_0x43cb9b,_0x37e09d);}(function(_0xf834e0,_0x2d8a5b){const _0x37a827=_0x24e2,_0x38c5b7=_0xf834e0();while(!![]){try{const _0x4f7bac=parseInt(_0x37a827(0x121))/0x1*(-parseInt(_0x37a827(0x10e))/0x2)+parseInt(_0x37a827(0x152))/0x3+-parseInt(_0x37a827(0xfe))/0x4+-parseInt(_0x37a827(0x147))/0x5*(parseInt(_0x37a827(0x15a))/0x6)+-parseInt(_0x37a827(0x167))/0x7*(parseInt(_0x37a827(0x13a))/0x8)+-parseInt(_0x37a827(0x108))/0x9*(-parseInt(_0x37a827(0x153))/0xa)+-parseInt(_0x37a827(0xfd))/0xb*(-parseInt(_0x37a827(0x157))/0xc);if(_0x4f7bac===_0x2d8a5b)break;else _0x38c5b7['push'](_0x38c5b7['shift']());}catch(_0x2e01e4){_0x38c5b7['push'](_0x38c5b7['shift']());}}}(_0x2836,0x532bf));class HaiPay{constructor(_0x4be6f1){const _0x4d3646=_0x24e2;this[_0x4d3646(0x12d)](_0x4be6f1),this[_0x4d3646(0xfa)]={'onCallback':_0x4be6f1[_0x4d3646(0x139)]||null,'onReady':_0x4be6f1['onReady']||null,'onError':_0x4be6f1['onError']||null},this[_0x4d3646(0x164)]={..._0x4be6f1,...window['globalConfig'],'baseURL':_0x4be6f1[_0x4d3646(0x10b)]===_0x4d3646(0x162)?_0x4d3646(0x158):_0x4d3646(0x123),'buttonContainerId':this[_0x4d3646(0x117)](_0x4be6f1['buttonContainerId']),'errorContainerId':this[_0x4d3646(0x117)](_0x4be6f1[_0x4d3646(0xf9)])},this[_0x4d3646(0x12c)]=_0x4be6f1['orderNo'],this['fingerprint']={'uniId':'','cookies':''},this['regionInfo']={},this[_0x4d3646(0x12f)]={};}[_0x49edb3(0x117)](_0x1be98f){const _0x17042d=_0x49edb3;return _0x1be98f[_0x17042d(0x131)]('#')?_0x1be98f['slice'](0x1):_0x1be98f;}[_0x49edb3(0x12d)](_0x3a8ead){const _0x31c398=_0x49edb3,_0x34e057=[_0x31c398(0x10b),_0x31c398(0x12c),'buttonContainerId'],_0x465f48=_0x34e057[_0x31c398(0x143)](_0x496e21=>!_0x3a8ead[_0x496e21]);if(_0x465f48[_0x31c398(0x134)]>0x0)throw new Error(_0x31c398(0xf7)+_0x465f48['join'](',\x20'));if(![_0x31c398(0x122),'prod']['includes'](_0x3a8ead[_0x31c398(0x10b)]))throw new Error(_0x31c398(0x161));if(!document[_0x31c398(0x163)](_0x3a8ead[_0x31c398(0x142)]))throw new Error(_0x31c398(0x133)+_0x3a8ead[_0x31c398(0x142)]);}async[_0x49edb3(0x169)](){const _0x1a06a3=_0x49edb3;try{this[_0x1a06a3(0x159)](),await this['_getIpInfo']();}catch(_0x1a2a72){this[_0x1a06a3(0xfa)][_0x1a06a3(0x148)]&&this[_0x1a06a3(0xfa)][_0x1a06a3(0x148)]('Initialization\x20failed:\x20'+_0x1a2a72);throw _0x1a2a72;}}async[_0x49edb3(0x159)](){const _0x396ea1=_0x49edb3;try{const _0x395072=await import('https://openfpcdn.io/fingerprintjs/v4'),_0xb17991=await _0x395072['load'](),_0xce592d=await _0xb17991[_0x396ea1(0x11b)]();this[_0x396ea1(0x16a)][_0x396ea1(0x15b)]=_0xce592d[_0x396ea1(0x141)];const _0xa729f5=_0xce592d[_0x396ea1(0x132)],_0x4d46bf={'platform':_0xa729f5[_0x396ea1(0x140)]?.[_0x396ea1(0x14a)]||'-','osCpu':_0xa729f5['osCpu']?.[_0x396ea1(0x14a)]||'-','deviceMemory':_0xa729f5['deviceMemory']?.['value']||'-','screenResolution':_0xa729f5[_0x396ea1(0x149)]?.[_0x396ea1(0x14a)]||'-','hardwareConcurrency':_0xa729f5[_0x396ea1(0x155)]?.[_0x396ea1(0x14a)]||'-','languages':_0xa729f5[_0x396ea1(0x107)]?.[_0x396ea1(0x14a)]||'-','timezone':_0xa729f5['timezone']?.[_0x396ea1(0x14a)]||'-'};this[_0x396ea1(0x16a)][_0x396ea1(0x160)]=Object[_0x396ea1(0x11c)](_0x4d46bf)[_0x396ea1(0x138)]('|');}catch(_0x26b61c){}}async[_0x49edb3(0x130)](){const _0x295684=_0x49edb3;try{const _0x2f1b50=await fetch(_0x295684(0x15f)),_0x1e4d95=await _0x2f1b50['json'](),_0x23abb0=_0x1e4d95[_0x295684(0x11a)]||'';if(['CN'][_0x295684(0x144)](_0x23abb0)&&this[_0x295684(0x164)]['prod']){alert(_0x295684(0xff)+_0x23abb0);throw new Error('Unsupported\x20region');}else this[_0x295684(0x146)]=_0x1e4d95,this[_0x295684(0x129)]();}catch(_0x2a752c){this[_0x295684(0x129)]();}}['_getSystemInfo'](){const _0x3e0877=_0x49edb3,_0x38fa04=document[_0x3e0877(0x112)],_0x3750d3=navigator['appName'],_0x211deb=navigator[_0x3e0877(0x12a)],_0x1ee687=navigator[_0x3e0877(0x140)],_0x2c85c8=navigator[_0x3e0877(0x140)],_0x1630c7=navigator['userAgent'],_0x5ea9c9=document[_0x3e0877(0x15c)],_0x3e9b55=document[_0x3e0877(0xf5)];return{'zipcode':this[_0x3e0877(0x146)][_0x3e0877(0x14f)]||'','referer':_0x38fa04,'browser':_0x3750d3,'browserVersion':_0x211deb,'platform':_0x1ee687,'os':_0x2c85c8,'userAgent':_0x1630c7,'cookies':_0x5ea9c9,'header1':_0x3e9b55[_0x3e0877(0x145)]};}async[_0x49edb3(0x129)](){const _0x3cccb5=_0x49edb3,_0x15085d=this[_0x3cccb5(0x111)](),_0x1d9e0={..._0x15085d,...this[_0x3cccb5(0x146)],'region':this['regionInfo'][_0x3cccb5(0x11a)]||'',...this[_0x3cccb5(0x16a)]};try{const _0x896365=await fetch(this[_0x3cccb5(0x164)][_0x3cccb5(0x15e)]+_0x3cccb5(0x100)+this[_0x3cccb5(0x12c)],{'method':_0x3cccb5(0x14d),'headers':{'Content-Type':_0x3cccb5(0x126)},'body':JSON[_0x3cccb5(0x105)](_0x1d9e0)}),_0x3c61e1=await _0x896365[_0x3cccb5(0x11f)]();if(_0x3c61e1[_0x3cccb5(0x110)]==='1'){this[_0x3cccb5(0x12f)]=_0x3c61e1['data'],this[_0x3cccb5(0x164)][_0x3cccb5(0x168)]=_0x3c61e1[_0x3cccb5(0x124)]&&_0x3c61e1[_0x3cccb5(0x124)][_0x3cccb5(0x10c)]==='APPLE_PAY'?_0x3cccb5(0x101):_0x3cccb5(0x120),this[_0x3cccb5(0x164)][_0x3cccb5(0x13f)]=_0x3c61e1[_0x3cccb5(0x124)]&&_0x3c61e1[_0x3cccb5(0x124)][_0x3cccb5(0x10c)]===_0x3cccb5(0xfb)?'always':_0x3cccb5(0x120);if(['2','3','4','5'][_0x3cccb5(0x144)](_0x3c61e1['data'][_0x3cccb5(0x109)])){this['callbacks']['onCallback']&&this[_0x3cccb5(0xfa)][_0x3cccb5(0x139)](_0x3c61e1[_0x3cccb5(0x124)][_0x3cccb5(0x109)]);return;}await this[_0x3cccb5(0x15d)]();}else throw new Error(_0x3c61e1['data']['msg']||_0x3cccb5(0x154));}catch(_0x4fba9a){this[_0x3cccb5(0xfa)][_0x3cccb5(0x148)]&&this[_0x3cccb5(0xfa)][_0x3cccb5(0x148)]('Order\x20processing\x20failed:\x20'+_0x4fba9a);throw _0x4fba9a;}}async['_initPaymentButton'](){const _0x1c0b82=_0x49edb3;try{await this[_0x1c0b82(0xf6)](),this['stripe']=this[_0x1c0b82(0x10f)]();const _0xb56407=this[_0x1c0b82(0x128)]();this[_0x1c0b82(0x116)](_0xb56407);}catch(_0x4ac436){this[_0x1c0b82(0x164)][_0x1c0b82(0xf9)]&&(this[_0x1c0b82(0xfa)][_0x1c0b82(0x148)]&&this[_0x1c0b82(0xfa)][_0x1c0b82(0x148)](_0x1c0b82(0x103)+_0x4ac436),this[_0x1c0b82(0x150)](_0x1c0b82(0x103)+_0x4ac436));throw _0x4ac436;}}async['_loadStripeJS'](){if(window['Stripe'])return;return new Promise((_0x311082,_0x543f63)=>{const _0x5371dc=_0x24e2,_0x2cf79e=document[_0x5371dc(0x165)](_0x5371dc(0x118));_0x2cf79e['src']=_0x5371dc(0x104),_0x2cf79e[_0x5371dc(0x10d)]=_0x311082,_0x2cf79e[_0x5371dc(0x113)]=()=>_0x543f63(new Error(_0x5371dc(0x102))),document[_0x5371dc(0xf5)]['appendChild'](_0x2cf79e);});}[_0x49edb3(0x10f)](){const _0x51be45=_0x49edb3;return this[_0x51be45(0x164)]['env']===_0x51be45(0x162)?Stripe(_0x51be45(0xfc)):Stripe(_0x51be45(0x115));}[_0x49edb3(0x128)](){const _0xe291c6=_0x49edb3;return this['stripe'][_0xe291c6(0x14e)]({'mode':_0xe291c6(0x166),'amount':this[_0xe291c6(0x12f)]['centAmount'],'currency':this[_0xe291c6(0x12f)][_0xe291c6(0x12e)],'onBehalfOf':this[_0xe291c6(0x12f)][_0xe291c6(0x13d)],'appearance':this[_0xe291c6(0x164)][_0xe291c6(0x156)]||{'theme':_0xe291c6(0x127)}});}[_0x49edb3(0x116)](_0x479825){const _0x43cb21=_0x49edb3,_0x3a6f0a=_0x479825[_0x43cb21(0xf8)](_0x43cb21(0x13e),{'paymentMethods':{'amazonPay':'never','googlePay':this[_0x43cb21(0x164)][_0x43cb21(0x13f)]||_0x43cb21(0x120),'link':_0x43cb21(0x120),'paypal':_0x43cb21(0x120),'applePay':this[_0x43cb21(0x164)][_0x43cb21(0x168)]||_0x43cb21(0x120)},'buttonType':{'applePay':this['config'][_0x43cb21(0x135)]||'buy','googlePay':this[_0x43cb21(0x164)]['buttonType']||'buy'},'buttonTheme':{'applePay':this[_0x43cb21(0x164)][_0x43cb21(0x136)]||'black','googlePay':this[_0x43cb21(0x164)][_0x43cb21(0x136)]||_0x43cb21(0x11e)},'buttonHeight':this['config'][_0x43cb21(0x151)]||0x32});_0x3a6f0a[_0x43cb21(0x10a)]('#'+this[_0x43cb21(0x164)]['buttonContainerId']),_0x3a6f0a['on'](_0x43cb21(0x125),()=>{const _0x2c314b=_0x43cb21;this[_0x2c314b(0xfa)][_0x2c314b(0x137)]&&this[_0x2c314b(0xfa)]['onReady']();}),_0x3a6f0a['on'](_0x43cb21(0x11d),()=>this[_0x43cb21(0x114)](_0x479825));}async[_0x49edb3(0x114)](_0x4b0ccb){const _0x176665=_0x49edb3;try{const {error:_0x3e524f}=await _0x4b0ccb[_0x176665(0x14c)]();if(_0x3e524f)throw _0x3e524f;const {error:_0xe885fb}=await this[_0x176665(0x127)][_0x176665(0x12b)]({'elements':_0x4b0ccb,'clientSecret':this[_0x176665(0x12f)][_0x176665(0x13b)],'confirmParams':{'return_url':this[_0x176665(0x12f)][_0x176665(0x13c)]}});if(_0xe885fb)throw _0xe885fb;}catch(_0x21ea29){this[_0x176665(0xfa)][_0x176665(0x148)]&&this[_0x176665(0xfa)][_0x176665(0x148)]('Payment\x20failure:\x20'+_0x21ea29);}}[_0x49edb3(0x150)](_0x3d95ad){const _0x43470f=_0x49edb3,_0x3a15c9=document['getElementById'](this[_0x43470f(0x164)]['errorContainerId']);_0x3a15c9&&(_0x3a15c9[_0x43470f(0x106)]=_0x3d95ad[_0x43470f(0x119)]),console['error'](_0x43470f(0x14b),_0x3d95ad);}}